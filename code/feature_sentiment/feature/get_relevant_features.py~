from nltk.corpus import wordnet

def read_feaures_csv() :
    import os

    DATAPATH = os.getcwd()
    DATAPATH = DATAPATH + os.sep + "features.csv"

    csv = open(DATAPATH, "r")
    features = {}
    for line in csv :
        content = line.split(",")
        features[content[0]] = content[1]
    return features

def read_phone_features(phone) :
    import os

    DATAPATH = os.getcwd()
	DATAPATH = DATAPATH + os.sep + "features_" + phone + ".txt"

    txt = open(DATAPATH)
    features = []
    for line in txt :
        features.append(txt)
    return features

def find_similarity(feature_list1, feature_list2) :
    import itertools

    syns1 = {}
    for w in feature_list1 :
        syns1[w] = wordnet.synset(w)


    syns2 = {}
    for w in feature_list2 :
        syns2[w] = wordnet.synset(w)

    words = list(itertools.product(syns1, syns2))

    similarities = []
    for pair in words :
        similarities.append((pair[0], pair[1], syns1[pair[0]].wup_similarity(syns2[pair[1]])))

    return similarities


phones = ['iphone_6', 'iphone_6plus', 'iphone_6s', 'iphone7', 'lg_g5', 'pixel', 'galaxy_s7']

features_static = read_feaures_csv().keys()
phone_features = read_phone_features(phones[0])

s = find_similarity(features_static, phone_features)
print s
